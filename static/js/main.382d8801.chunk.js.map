{"version":3,"sources":["Components/Layout/Header.jsx","Components/Preloader/Preloader.jsx","Components/Shop/ShopItem.jsx","Components/Shop/ShopList.jsx","Components/Shared/Cart.jsx","Components/Basket/Basket.jsx","Components/Basket/BasketList.jsx","Components/Shared/Message.jsx","Components/Shop/Shop.jsx","config.js","Components/Layout/Main.jsx","Components/Layout/Footer.jsx","App.js","index.js"],"names":["Header","className","href","id","Preloader","ShopItem","props","name","description","price","full_background","src","alt","onClick","addOrder","style","fontSize","ShopList","goods","length","map","item","Cart","quantity","console","log","handleBasketShow","Basket","changeQuntity","removeFromBasket","BasketList","order","totalPrice","reduce","acc","elem","Message","useEffect","timerId","setTimeout","closeMessage","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","messageName","setMessageName","fetch","headers","authorization","process","then","response","json","data","specialFeatured","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","type","elemIndex","message","Main","Footer","Date","getFullYear","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8LAAMA,EAAS,WACX,OACI,qBAAKC,UAAU,iBAAf,SACI,sBAAKA,UAAU,cAAf,UACI,mBACIC,KAAK,wCACLD,UAAU,aAFd,2BAMA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SACI,6BACI,mBAAGC,KAAK,8BAAR,oC,qBCZXE,EAAY,WACrB,OACI,qBAAKH,UAAU,WAAf,SACI,qBAAKA,UAAU,qBCHdI,EAAW,SAACC,GAAW,IACxBH,EAAkDG,EAAlDH,GAAII,EAA8CD,EAA9CC,KAAMC,EAAwCF,EAAxCE,YAAaC,EAA2BH,EAA3BG,MAAOC,EAAoBJ,EAApBI,gBAEtC,OACI,sBAAKT,UAAU,iBAAiBE,GAAIA,EAApC,UACI,qBAAKF,UAAU,aAAf,SACI,qBAAKU,IAAKD,EAAiBE,IAAKL,MAEpC,sBAAKN,UAAU,iCAAf,UACI,sBAAMA,UAAU,aAAhB,SAA8BM,IAC9B,4BAAIC,OAER,sBAAKP,UAAU,+BAAf,UACI,wBACIA,UAAU,MACVY,QAAS,WACLP,EAAMQ,SAAS,CAAEX,KAAII,OAAME,WAHnC,kDAQA,uBAAMR,UAAU,QAAQc,MAAO,CAAEC,SAAU,UAA3C,UACKP,EADL,iCCnBHQ,EAAW,SAACX,GAAW,IAAD,EACRA,EAAfY,aADuB,MACf,GADe,EAG/B,OAAKA,EAAMC,OAKP,qBAAKlB,UAAU,cAAf,SACKiB,EAAME,KAAI,SAACC,GAAD,OACP,cAAC,EAAD,2BAA4BA,GAA5B,IAAkCP,SAAUR,EAAMQ,WAAnCO,EAAKlB,SANrB,+CCNFmB,EAAO,SAAChB,GAAW,IACpBiB,EAAajB,EAAbiB,SAER,OADAC,QAAQC,IAAIF,GAER,sBACItB,UAAU,gCACVY,QAAS,kBAAMP,EAAMoB,oBAFzB,UAII,mBAAGzB,UAAU,iBAAb,2BACCsB,EACG,sBAAMtB,UAAU,gBAAhB,SAAiCsB,IACjC,SCXHI,EAAS,SAACrB,GAAW,IACtBH,EAA8BG,EAA9BH,GAAII,EAA0BD,EAA1BC,KAAME,EAAoBH,EAApBG,MAAOc,EAAajB,EAAbiB,SACzB,OACI,qBAAItB,UAAU,kBAAd,UACKM,EACD,+BACI,mBACIN,UAAU,kCACVY,QAAS,kBAAMP,EAAMsB,cAAczB,EAAI,cAF3C,mBAMI,IATZ,IAUMoB,EAAU,IACZ,+BACI,mBACItB,UAAU,kCACVY,QAAS,kBAAMP,EAAMsB,cAAczB,EAAI,cAF3C,sBAZR,KAmBOM,EAAQc,EACX,sBAAMtB,UAAU,oBAAhB,SACI,mBACIA,UAAU,gCACVY,QAAS,kBAAMP,EAAMuB,iBAAiB1B,IAF1C,wCCtBH2B,EAAa,SAACxB,GAAW,IAAD,EACVA,EAAfyB,aADyB,MACjB,GADiB,EAG3BC,EAAaD,EAAME,QACrB,SAACC,EAAKb,GAAN,OAAea,EAAMb,EAAKZ,MAAQY,EAAKE,WACvC,GAGJ,OACI,qBAAItB,UAAU,4CAAd,UACI,oBAAIA,UAAU,yBAAd,wDACC8B,EAAMZ,OACHY,EAAMX,KAAI,SAACe,GAAD,OACN,cAAC,EAAD,2BAEQA,GAFR,IAGIN,iBAAkBvB,EAAMuB,iBACxBD,cAAetB,EAAMsB,gBAHhBO,EAAKhC,OAOlB,oBAAIF,UAAU,kBAAd,wHAEJ,qBAAIA,UAAU,yBAAd,oGACsB+B,EADtB,4CAGA,oBAAI/B,UAAU,kBAAd,SACI,wBAAQA,UAAU,YAAlB,gEAEJ,mBACIA,UAAU,+BACVY,QAAS,kBAAMP,EAAMoB,oBAFzB,uBC7BCU,EAAU,SAAC9B,GAAW,IACvBC,EAASD,EAATC,KAUR,OARA8B,qBAAU,WACN,IAAMC,EAAUC,WAAWjC,EAAMkC,aAAc,KAE/C,OAAO,WACHC,aAAaH,MAElB,CAAC/B,IAGA,qBAAKJ,GAAG,kBAAR,SACI,sBAAKF,UAAU,QAAf,UAAwBM,EAAxB,4GCNCmC,EAAO,WAAO,IAAD,EACIC,mBAAS,IADb,mBACfzB,EADe,KACR0B,EADQ,OAEQD,oBAAS,GAFjB,mBAEfE,EAFe,KAENC,EAFM,OAGIH,mBAAS,IAHb,mBAGfZ,EAHe,KAGRgB,EAHQ,OAIgBJ,oBAAS,GAJzB,mBAIfK,EAJe,KAIDC,EAJC,OAKgBN,mBAAS,IALzB,mBAKfO,EALe,KAKFC,EALE,KAwChBzB,EAAmB,WACrBuB,GAAeD,IA8CnB,OAbAX,qBAAU,WACNe,MCnFQ,yCDmFO,CACXC,QAAS,CACLC,cCtFAC,yCDyFHC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACHA,EAAKC,iBAAmBhB,EAASe,EAAKC,iBACtCd,GAAW,QAEpB,IAGC,qCACI,cAAC,EAAD,CAAMvB,SAAUQ,EAAMZ,OAAQO,iBAAkBA,IAC/CmB,EACG,cAAC,EAAD,IAEA,cAAC,EAAD,CAAU/B,SAtFL,SAACO,GACd,IAAMwC,EAAY9B,EAAM+B,WACpB,SAACC,GAAD,OAAeA,EAAU5D,KAAOkB,EAAKlB,MAGzC,GAAI0D,EAAY,EAAG,CACf,IAAMG,EAAO,2BACN3C,GADM,IAETE,SAAU,IAEdwB,EAAS,GAAD,mBAAKhB,GAAL,CAAYiC,SACjB,CACH,IAAMC,EAAWlC,EAAMX,KAAI,SAAC2C,EAAWG,GACnC,OAAIA,IAAUL,EACH,2BACAE,GADP,IAEIxC,SAAUwC,EAAUxC,SAAW,IAG5BwC,KAIfhB,EAASkB,GAGbd,EAAe9B,EAAKd,OA4DkBW,MAAOA,IAExC8B,GACG,cAAC,EAAD,CACIjB,MAAOA,EACPL,iBAAkBA,EAClBG,iBA/DS,SAACsC,GACtBpB,EAAShB,EAAMqC,QAAO,SAACjC,GAAD,OAAUA,EAAKhC,KAAOgE,OA+DhCvC,cAxDM,SAACzB,EAAIkE,GACvB,IAAIJ,EACEK,EAAYvC,EAAM+B,WAAU,SAAC3B,GAAD,OAAUA,EAAKhC,KAAOA,KAEpD8D,EADS,cAATI,EACWtC,EAAMX,KAAI,SAAC2C,EAAWG,GAC7B,GAAIA,IAAUI,EACV,OAAO,2BACAP,GADP,IAEIxC,SAAUwC,EAAUxC,SAAW,OAKhCQ,EAAMX,KAAI,SAAC2C,EAAWG,GAC7B,GAAIA,IAAUI,EACV,OAAO,2BACAP,GADP,IAEIxC,SAAUwC,EAAUxC,SAAW,OAM/CwB,EAASkB,MAoCJf,GACG,cAAC,EAAD,CAAS3C,KAAM2C,EAAaV,aAlCnB,SAAC+B,GAClBpB,WE9EFqB,EAAO,WACT,OACI,sBAAMvE,UAAU,oBAAhB,SACI,cAAC,EAAD,OCLNwE,EAAS,WACX,OACI,wBAAQxE,UAAU,8BAAlB,SACI,qBAAKA,UAAU,mBAAf,SACI,sBAAKA,UAAU,YAAf,mBACO,IAAIyE,MAAOC,YADlB,kBAEI,mBAAG1E,UAAU,iCAAiCC,KAAK,KAAnD,iCCQL0E,MAVf,WACI,OACI,qCACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCJZC,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJC,SAASC,eAAe,W","file":"static/js/main.382d8801.chunk.js","sourcesContent":["const Header = () => {\r\n    return (\r\n        <nav className='green darken-1'>\r\n            <div className='nav-wrapper'>\r\n                <a\r\n                    href='https://github.com/ALevkas/react-shop'\r\n                    className='brand-logo'\r\n                >\r\n                    Shop fortnite\r\n                </a>\r\n                <ul id='nav-mobile' className='right hide-on-med-and-down'>\r\n                    <li>\r\n                        <a href='https://github.com/ALevkas/'>My other app</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport { Header };\r\n","export const Preloader = () => {\r\n    return (\r\n        <div className='progress'>\r\n            <div className='indeterminate'></div>\r\n        </div>\r\n    );\r\n};\r\n","export const ShopItem = (props) => {\r\n    const { id, name, description, price, full_background } = props;\r\n\r\n    return (\r\n        <div className='card card-shop' id={id}>\r\n            <div className='card-image'>\r\n                <img src={full_background} alt={name} />\r\n            </div>\r\n            <div className='card-content card-content-shop'>\r\n                <span className='card-title'>{name}</span>\r\n                <p>{description}</p>\r\n            </div>\r\n            <div className='card-action card-action-shop'>\r\n                <button\r\n                    className='btn'\r\n                    onClick={() => {\r\n                        props.addOrder({ id, name, price });\r\n                    }}\r\n                >\r\n                    Купить\r\n                </button>\r\n                <span className='right' style={{ fontSize: '1.8rem' }}>\r\n                    {price} руб.\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import { ShopItem } from './ShopItem';\r\n\r\nexport const ShopList = (props) => {\r\n    const { goods = [] } = props;\r\n\r\n    if (!goods.length) {\r\n        return <h3>Nothing here</h3>;\r\n    }\r\n\r\n    return (\r\n        <div className='shoop-items'>\r\n            {goods.map((item) => (\r\n                <ShopItem key={item.id} {...item} addOrder={props.addOrder} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n","export const Cart = (props) => {\r\n    const { quantity } = props;\r\n    console.log(quantity);\r\n    return (\r\n        <div\r\n            className='cart blue darken-4 white-text'\r\n            onClick={() => props.handleBasketShow()}\r\n        >\r\n            <i className='material-icons'>shopping_cart</i>\r\n            {quantity ? (\r\n                <span className='cart-quantity'>{quantity}</span>\r\n            ) : null}\r\n        </div>\r\n    );\r\n};\r\n","export const Basket = (props) => {\r\n    const { id, name, price, quantity } = props;\r\n    return (\r\n        <li className='collection-item'>\r\n            {name}\r\n            <span>\r\n                <i\r\n                    className='material-icons basket__quantity'\r\n                    onClick={() => props.changeQuntity(id, 'increment')}\r\n                >\r\n                    add\r\n                </i>\r\n            </span>{' '}\r\n            x{quantity}{' '}\r\n            <span>\r\n                <i\r\n                    className='material-icons basket__quantity'\r\n                    onClick={() => props.changeQuntity(id, 'decrement')}\r\n                >\r\n                    remove\r\n                </i>\r\n            </span>\r\n            = {price * quantity}\r\n            <span className='secondary-content'>\r\n                <i\r\n                    className='material-icons basket__delete'\r\n                    onClick={() => props.removeFromBasket(id)}\r\n                >\r\n                    remove_shopping_cart\r\n                </i>\r\n            </span>\r\n        </li>\r\n    );\r\n};\r\n","import { Basket } from './Basket';\r\n\r\nexport const BasketList = (props) => {\r\n    const { order = [] } = props;\r\n\r\n    const totalPrice = order.reduce(\r\n        (acc, item) => acc + item.price * item.quantity,\r\n        0\r\n    );\r\n\r\n    return (\r\n        <ul className='collection basket__list basket__list-show'>\r\n            <li className='collection-item active'>Корзина</li>\r\n            {order.length ? (\r\n                order.map((elem) => (\r\n                    <Basket\r\n                        key={elem.id}\r\n                        {...elem}\r\n                        removeFromBasket={props.removeFromBasket}\r\n                        changeQuntity={props.changeQuntity}\r\n                    />\r\n                ))\r\n            ) : (\r\n                <li className='collection-item'>Упс, здесь пока пусто</li>\r\n            )}\r\n            <li className='collection-item active'>\r\n                Общая стоимость: {totalPrice} рублей.\r\n            </li>\r\n            <li className='collection-item'>\r\n                <button className='btn-small'>Оформить</button>\r\n            </li>\r\n            <i\r\n                className='material-icons basket__close'\r\n                onClick={() => props.handleBasketShow()}\r\n            >\r\n                clear\r\n            </i>\r\n        </ul>\r\n    );\r\n};\r\n","import React, { useEffect } from 'react';\r\n\r\nexport const Message = (props) => {\r\n    const { name } = props;\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(props.closeMessage, 3000);\r\n\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        };\r\n    }, [name]); // eslint-disable-line\r\n\r\n    return (\r\n        <div id='toast-container'>\r\n            <div className='toast'>{name} добавлен в корзину</div>\r\n        </div>\r\n    );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Preloader } from '../Preloader/Preloader';\r\nimport { ShopList } from './ShopList';\r\nimport { Cart } from '../Shared/Cart';\r\nimport { BasketList } from '../Basket/BasketList';\r\nimport { Message } from '../Shared/Message';\r\n\r\nimport { API_KEY, API_URL } from '../../config';\r\n\r\nexport const Shop = () => {\r\n    const [goods, setGoods] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [order, setOrder] = useState([]);\r\n    const [isBasketShow, setBasketShow] = useState(false);\r\n    const [messageName, setMessageName] = useState('');\r\n\r\n    const addOrder = (item) => {\r\n        const itemIndex = order.findIndex(\r\n            (orderItem) => orderItem.id === item.id\r\n        );\r\n\r\n        if (itemIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1,\r\n            };\r\n            setOrder([...order, newItem]);\r\n        } else {\r\n            const newOrder = order.map((orderItem, index) => {\r\n                if (index === itemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: orderItem.quantity + 1,\r\n                    };\r\n                } else {\r\n                    return orderItem;\r\n                }\r\n            });\r\n\r\n            setOrder(newOrder);\r\n        }\r\n\r\n        setMessageName(item.name);\r\n    };\r\n\r\n    const removeFromBasket = (itemId) => {\r\n        setOrder(order.filter((elem) => elem.id !== itemId));\r\n    };\r\n\r\n    const handleBasketShow = () => {\r\n        setBasketShow(!isBasketShow);\r\n    };\r\n\r\n    const changeQuntity = (id, type) => {\r\n        let newOrder;\r\n        const elemIndex = order.findIndex((elem) => elem.id === id);\r\n        if (type === 'increment') {\r\n            newOrder = order.map((orderItem, index) => {\r\n                if (index === elemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: orderItem.quantity + 1,\r\n                    };\r\n                }\r\n            });\r\n        } else {\r\n            newOrder = order.map((orderItem, index) => {\r\n                if (index === elemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: orderItem.quantity - 1,\r\n                    };\r\n                }\r\n            });\r\n        }\r\n\r\n        setOrder(newOrder);\r\n    };\r\n\r\n    const closeMessage = (message) => {\r\n        setMessageName();\r\n    };\r\n\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                authorization: API_KEY,\r\n            },\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                data.specialFeatured && setGoods(data.specialFeatured);\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n            {loading ? (\r\n                <Preloader />\r\n            ) : (\r\n                <ShopList addOrder={addOrder} goods={goods} />\r\n            )}\r\n            {isBasketShow && (\r\n                <BasketList\r\n                    order={order}\r\n                    handleBasketShow={handleBasketShow}\r\n                    removeFromBasket={removeFromBasket}\r\n                    changeQuntity={changeQuntity}\r\n                />\r\n            )}\r\n            {messageName && (\r\n                <Message name={messageName} closeMessage={closeMessage} />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\n\r\nexport { API_KEY, API_URL };\r\n","import { Shop } from '../Shop/Shop';\r\n\r\nconst Main = () => {\r\n    return (\r\n        <main className='container content'>\r\n            <Shop />\r\n        </main>\r\n    );\r\n};\r\n\r\nexport { Main };\r\n","const Footer = () => {\r\n    return (\r\n        <footer className='page-footer green lighten-2'>\r\n            <div className='footer-copyright'>\r\n                <div className='container'>\r\n                    © {new Date().getFullYear} Copyright Text\r\n                    <a className='grey-text text-lighten-4 right' href='#!'>\r\n                        More my app\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport { Footer };\r\n","import { Header } from './Components/Layout/Header';\nimport { Main } from './Components/Layout/Main';\nimport { Footer } from './Components/Layout/Footer';\n\nfunction App() {\n    return (\n        <>\n            <Header />\n            <Main />\n            <Footer />\n        </>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}