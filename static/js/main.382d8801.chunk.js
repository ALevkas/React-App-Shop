(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{13:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),i=c(7),s=c.n(i),r=(c(13),c(0)),o=function(){return Object(r.jsx)("nav",{className:"green darken-1",children:Object(r.jsxs)("div",{className:"nav-wrapper",children:[Object(r.jsx)("a",{href:"https://github.com/ALevkas/react-shop",className:"brand-logo",children:"Shop fortnite"}),Object(r.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://github.com/ALevkas/",children:"My other app"})})})]})})},l=c(8),j=c(1),d=c(3),u=function(){return Object(r.jsx)("div",{className:"progress",children:Object(r.jsx)("div",{className:"indeterminate"})})},b=function(e){var t=e.id,c=e.name,n=e.description,a=e.price,i=e.full_background;return Object(r.jsxs)("div",{className:"card card-shop",id:t,children:[Object(r.jsx)("div",{className:"card-image",children:Object(r.jsx)("img",{src:i,alt:c})}),Object(r.jsxs)("div",{className:"card-content card-content-shop",children:[Object(r.jsx)("span",{className:"card-title",children:c}),Object(r.jsx)("p",{children:n})]}),Object(r.jsxs)("div",{className:"card-action card-action-shop",children:[Object(r.jsx)("button",{className:"btn",onClick:function(){e.addOrder({id:t,name:c,price:a})},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(r.jsxs)("span",{className:"right",style:{fontSize:"1.8rem"},children:[a," \u0440\u0443\u0431."]})]})]})},h=function(e){var t=e.goods,c=void 0===t?[]:t;return c.length?Object(r.jsx)("div",{className:"shoop-items",children:c.map((function(t){return Object(r.jsx)(b,Object(j.a)(Object(j.a)({},t),{},{addOrder:e.addOrder}),t.id)}))}):Object(r.jsx)("h3",{children:"Nothing here"})},m=function(e){var t=e.quantity;return console.log(t),Object(r.jsxs)("div",{className:"cart blue darken-4 white-text",onClick:function(){return e.handleBasketShow()},children:[Object(r.jsx)("i",{className:"material-icons",children:"shopping_cart"}),t?Object(r.jsx)("span",{className:"cart-quantity",children:t}):null]})},O=function(e){var t=e.id,c=e.name,n=e.price,a=e.quantity;return Object(r.jsxs)("li",{className:"collection-item",children:[c,Object(r.jsx)("span",{children:Object(r.jsx)("i",{className:"material-icons basket__quantity",onClick:function(){return e.changeQuntity(t,"increment")},children:"add"})})," ","x",a," ",Object(r.jsx)("span",{children:Object(r.jsx)("i",{className:"material-icons basket__quantity",onClick:function(){return e.changeQuntity(t,"decrement")},children:"remove"})}),"= ",n*a,Object(r.jsx)("span",{className:"secondary-content",children:Object(r.jsx)("i",{className:"material-icons basket__delete",onClick:function(){return e.removeFromBasket(t)},children:"remove_shopping_cart"})})]})},x=function(e){var t=e.order,c=void 0===t?[]:t,n=c.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(r.jsxs)("ul",{className:"collection basket__list basket__list-show",children:[Object(r.jsx)("li",{className:"collection-item active",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),c.length?c.map((function(t){return Object(r.jsx)(O,Object(j.a)(Object(j.a)({},t),{},{removeFromBasket:e.removeFromBasket,changeQuntity:e.changeQuntity}),t.id)})):Object(r.jsx)("li",{className:"collection-item",children:"\u0423\u043f\u0441, \u0437\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u043e"}),Object(r.jsxs)("li",{className:"collection-item active",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",n," \u0440\u0443\u0431\u043b\u0435\u0439."]}),Object(r.jsx)("li",{className:"collection-item",children:Object(r.jsx)("button",{className:"btn-small",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})}),Object(r.jsx)("i",{className:"material-icons basket__close",onClick:function(){return e.handleBasketShow()},children:"clear"})]})},f=function(e){var t=e.name;return Object(n.useEffect)((function(){var t=setTimeout(e.closeMessage,3e3);return function(){clearTimeout(t)}}),[t]),Object(r.jsx)("div",{id:"toast-container",children:Object(r.jsxs)("div",{className:"toast",children:[t," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"]})})},p=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),s=Object(d.a)(i,2),o=s[0],b=s[1],O=Object(n.useState)([]),p=Object(d.a)(O,2),v=p[0],g=p[1],N=Object(n.useState)(!1),k=Object(d.a)(N,2),y=k[0],_=k[1],q=Object(n.useState)(""),S=Object(d.a)(q,2),w=S[0],B=S[1],F=function(){_(!y)};return Object(n.useEffect)((function(){fetch("https://fortniteapi.io/v1/shop?lang=ru",{headers:{authorization:"ef079d90-94f947aa-2c3e04d6-f006e12f"}}).then((function(e){return e.json()})).then((function(e){e.specialFeatured&&a(e.specialFeatured),b(!1)}))}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m,{quantity:v.length,handleBasketShow:F}),o?Object(r.jsx)(u,{}):Object(r.jsx)(h,{addOrder:function(e){var t=v.findIndex((function(t){return t.id===e.id}));if(t<0){var c=Object(j.a)(Object(j.a)({},e),{},{quantity:1});g([].concat(Object(l.a)(v),[c]))}else{var n=v.map((function(e,c){return c===t?Object(j.a)(Object(j.a)({},e),{},{quantity:e.quantity+1}):e}));g(n)}B(e.name)},goods:c}),y&&Object(r.jsx)(x,{order:v,handleBasketShow:F,removeFromBasket:function(e){g(v.filter((function(t){return t.id!==e})))},changeQuntity:function(e,t){var c,n=v.findIndex((function(t){return t.id===e}));c="increment"===t?v.map((function(e,t){if(t===n)return Object(j.a)(Object(j.a)({},e),{},{quantity:e.quantity+1})})):v.map((function(e,t){if(t===n)return Object(j.a)(Object(j.a)({},e),{},{quantity:e.quantity-1})})),g(c)}}),w&&Object(r.jsx)(f,{name:w,closeMessage:function(e){B()}})]})},v=function(){return Object(r.jsx)("main",{className:"container content",children:Object(r.jsx)(p,{})})},g=function(){return Object(r.jsx)("footer",{className:"page-footer green lighten-2",children:Object(r.jsx)("div",{className:"footer-copyright",children:Object(r.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear," Copyright Text",Object(r.jsx)("a",{className:"grey-text text-lighten-4 right",href:"#!",children:"More my app"})]})})})};var N=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o,{}),Object(r.jsx)(v,{}),Object(r.jsx)(g,{})]})};s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(N,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.382d8801.chunk.js.map